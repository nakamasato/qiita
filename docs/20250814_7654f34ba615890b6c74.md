---
title: github-commentで `invalid var flag. The format should be '--var <key>:<value>` が出るのを直す
tags: github-comment
author: nakamasato
slide: false
---
# エラー

```
invalid var flag. The format should be '--var <key>:<value>
```

# 起こるケース

いろんなものをたくさん合わせた結果をvarに渡そうとすると起こりやすい

# 解決策

複雑なものを varにわたすときは、 fileに書き込んで `--var-file`を使うといい。

```
   --var-file string [ --var-file string ]  template variable name and file path
```

```
GITHUB_ACCESS_TOKEN=$(gh auth token) github-comment post \
    --pr xx --repo <repo> --org <org> \
    --var-file summary:/tmp/result.txt
```

# References

- https://suzuki-shunsuke.github.io/github-comment/usage#github-comment-post
- https://github.com/suzuki-shunsuke/github-comment/blob/a2f78c230de26cf7a34cefcf95d3e71c9c68b627/pkg/cmd/parse_vars.go#L28

