---
title: poetry から uvに移行する
tags: Poetry UV Python
author: nakamasato
slide: false
---
# 移行のモチベ

uvは爆速ということで lintをruffに寄せたのと同じように package managerもuvへ

![Screenshot 2025-03-23 at 16.32.49.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/7059/9ddadfdb-fc8b-4788-bdd2-9bc1e2b2e4d5.png)

https://docs.astral.sh/uv/ これを見てすぐにやろうと思い移行。

# 移行手順

:::note info
この時代ClineとかCursorでやれば楽かなと思ってやっていたが、生成AIすら不要で、`migrate-to-uv`を使えば一発で済む！
:::


## migrate-to-uv

https://github.com/mkniewallner/migrate-to-uv

```
uvx migrate-to-uv
```

この1コマンドで終了！
残りは、READMEなどを更新すればOK

## `poetry` -> `run`に変更

```
git grep -l "poetry run" | xargs sed -i '' 's/poetry run/uv run/g'
git grep -l "poetry install" | xargs sed -i '' 's/poetry install/uv sync/g'
git grep -l "poetry.lock" | xargs sed -i '' 's/poetry.lock/uv.lock/g'
```

## GitHub Actions

https://qiita.com/nakamasato/items/4bff0f0eecd665c68182

## renovate

renovateもサポートしているので`lockFileMaintenance`をenableしておけばいい。

```json
  "lockFileMaintenance": {
    "enabled": true
  },
```

https://docs.astral.sh/uv/guides/integration/dependency-bots/#renovate

