---
title: [Claude Code] GH Issueã‚’è§£æ±ºã™ã‚‹slash command /resolve-gh-issue
tags: ClaudeCode GitHub
author: nakamasato
slide: false
---
## ã“ã‚Œã¯ä½•ï¼Ÿ

GitHub Issueã®è§£æ±ºã‚’ã€ç†è§£ã®ç¢ºèªã‹ã‚‰å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆãƒ»PRä½œæˆã¾ã§ä¸€æ°—é€šè²«ã§è‡ªå‹•åŒ–ã™ã‚‹Claude Code Slash commandã§ã™ã€‚

## ä½¿ã„æ–¹

```bash
/resolve-gh-issue <issueç•ªå·>
```

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **Issueã®ç†è§£ã‚’ç¢ºèª** - AIãŒIssueã‚’åˆ†æã—ã€å®Ÿè£…å†…å®¹ã‚’æç¤ºã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰¿èªã—ã¦ã‹ã‚‰å®Ÿè£…é–‹å§‹
2. **ã‚¿ã‚¹ã‚¯è¨ˆç”»ã®è‡ªå‹•ä½œæˆ** - æ¤œè¨¼æ¸ˆã¿ã®ç†è§£ã«åŸºã¥ã„ã¦Todoãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
3. **å®Ÿè£…** - ãƒ–ãƒ©ãƒ³ãƒä½œæˆâ†’ã‚³ãƒ¼ãƒ‰å®Ÿè£…â†’ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
4. **PRä½œæˆ** - Draft PRã‚’è‡ªå‹•ä½œæˆï¼ˆãƒ†ã‚¹ãƒˆãŒé€šã£ã¦ã‹ã‚‰ï¼‰
5. **ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—Issueä½œæˆ** - å®Ÿè£…ä¸­ã«ç™ºè¦‹ã—ãŸèª²é¡Œã‚’åˆ¥Issueã¨ã—ã¦è¨˜éŒ²

## ä¾¿åˆ©ãªãƒã‚¤ãƒ³ãƒˆ

âœ… **å®Ÿè£…å‰ã®ç¢ºèªã‚¹ãƒ†ãƒƒãƒ—**ã§èªè­˜é½Ÿé½¬ã‚’é˜²æ­¢
âœ… **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå¿…é ˆ**ã§CIå¤±æ•—ã‚’å¤§å¹…å‰Šæ¸›  
âœ… **ç™ºè¦‹ã—ãŸèª²é¡Œã‚’è‡ªå‹•çš„ã«IssueåŒ–**ã—ã¦æŠ€è¡“çš„è² å‚µã‚’å¯è¦–åŒ–  
âœ… ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„PRæœ¬æ–‡ã‚‚è‡ªå‹•ç”Ÿæˆ  
âœ… ä¸€ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§Issue â†’ PRå®Œäº†ã¾ã§å®Œçµ

é–‹ç™ºãƒ•ãƒ­ãƒ¼ã®æ¨™æº–åŒ–ã¨å“è³ªå‘ä¸Šã‚’åŒæ™‚ã«å®Ÿç¾ã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

å°‘ã—å†—é•·ãªã¨ã“ã‚ã‚‚ã‚ã‚‹ã®ã§ã€ã‚¹ãƒªãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½œã£ã¦ã‚‚ã„ã„ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚
ã‚ã¨ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦test, e2eãªã©ã®ã‚³ãƒãƒ³ãƒ‰ã¯æ›¸ãæ›ãˆã‚‹ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç¯€ç´„ãŒã§ãã¾ã™ã€‚

## /resolve-gh-issue command


````md:~/.claude/commands/resolve-gh-issue.md
# resolve-gh-issue

## Usage

```
/resolve-gh-issue <issue-number> [--skip-validation]
```

## Description

Automates a comprehensive workflow for resolving GitHub Issues, from understanding the issue content through implementation, testing, and PR creation.

**Key Features**:

- Pre-implementation validation step to verify understanding with user
- Automated follow-up issue creation for discovered problems deferred from the PR

## Options

- `--skip-validation`: Skip the issue validation step (legacy behavior)

## Workflow

### 1. Fetch and Review Issue

```bash
gh issue view <issue-number>
```

- Review issue content in detail
- Check related discussions and links
- Clarify implementation requirements

### 2. ğŸ“‹ Validate Understanding

AI analyzes the issue and presents understanding in this format:

```markdown
## ğŸ“‹ Understanding of Issue #XX

### Summary
[Brief explanation of the issue]

### Features to Implement
- [ ] Feature 1: [specific implementation details]
- [ ] Feature 2: [specific implementation details]
- [ ] Feature 3: [specific implementation details]

### Technical Approach
- Technologies: [frameworks, libraries, etc.]
- Files to modify: [list of affected files]
- Testing strategy: [testing approach]

### Constraints
âš ï¸ [Impact on existing features]
âš ï¸ [Performance or security considerations]

### Completion Criteria
- [ ] All tests pass
- [ ] Lint checks pass
- [ ] [Other issue-specific conditions]

Is this understanding correct? May I proceed with implementation?
```

**User Response Options**:
- `yes` / `y`: Start implementation
- `no` / `n`: Revise understanding and reconfirm
- Specific corrections: AI updates understanding and reconfirms

### 3. Create Work Plan with TodoWrite Tool

- Auto-generate tasks based on **validated understanding**
- Set priorities
- Add each task to the todo list
- Associate completion criteria with tasks

### 4. Create and Checkout Branch

```bash
git checkout -b feature/issue-<issue-number>-<brief-description>
```

- Create new branch from the latest main branch
- Branch naming: `feature/issue-<number>-<brief-description>`
- For bug fixes: `fix/issue-<number>-<brief-description>`

### 5. Implementation

- Implement each task in the todo list sequentially
- Update status to `in_progress` when starting a task
- Update status to `completed` when finished
- Practice TDD (Test-Driven Development)
- Security-first design approach

### 6. âš ï¸ Run Local Tests (Required)

(**Update this section with the specific test command for the project.**)

**Critical**: Always run tests locally before creating a PR to ensure all tests pass.

```bash
# Run your test suite (examples):
npm test           # Node.js/JavaScript
pytest             # Python
cargo test         # Rust
go test ./...      # Go
mvn test           # Java/Maven
bundle exec rspec  # Ruby

# Additional quality checks:
npm run lint       # Linting
npm run typecheck  # Type checking (TypeScript)
npm run test:cov   # Coverage check
```

**If tests fail**:
1. Review error logs in detail
2. Fix failing tests
3. Re-run tests
4. Only proceed to PR creation after all tests pass

### 7. Run E2E Tests (If Applicable)

Run end-to-end tests according to your project's testing strategy.

### 8. Create Commit

**Prerequisite**: All local tests from step 6 must pass

```bash
git add .
git commit -m "fix: #<issue-number> <issue-title>
<detailed description>
Closes #<issue-number>
ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"
```

### 9. Push and Create PR

Always create PRs as `--draft`

```bash
git push -u origin feature/issue-<issue-number>-<brief-description>
gh pr create --draft \
  --title "fix: #<issue-number> <issue-title>" \
  --body "## Summary
Closes #<issue-number>
## Changes
- <change 1>
- <change 2>
## Testing
- [ ] Unit tests: Pass
- [ ] E2E tests: Pass (if applicable)
- [ ] Lint: Pass
- [ ] Type check: Pass
## Screenshots
(if UI changes)
ğŸ¤– Generated with Claude Code"
```

### 10. Monitor CI

```bash
gh run watch
```

### 11. Review Unresolved Issues and Create Follow-ups

After PR creation, review problems discovered during implementation that were deferred:

```markdown
## ğŸ” Unresolved Issues Discovered During Implementation

The following issues were discovered but deferred from this PR:

1. [Issue 1 description]
2. [Issue 2 description]
3. [Issue 3 description]

Create new issues for these? [Y/n]
```

**If Yes**: Create detailed issues for each problem

```bash
gh issue create \
  --title "ğŸ”§ [Concise title]" \
  --body "## Summary
[Detailed problem description]

## Background
- Discovered during PR #[original PR number]
- [Why it wasn't addressed in this PR]

## Required Work
- [ ] [Investigation task 1]
- [ ] [Investigation task 2]
- [ ] [Implementation task 1]
- [ ] [Implementation task 2]

## Completion Criteria
- [ ] [Clear completion criterion 1]
- [ ] [Clear completion criterion 2]
- [ ] All tests pass

## Technical Details
- Affected files: [file list]
- Expected challenges: [technical challenges]
- Recommended approach: [implementation strategy]

## Related Links
- Original issue: #[issue number]
- Original PR: #[PR number]

## Priority
- **Priority**: [High/Medium/Low]
- **Estimated effort**: [X hours]" \
  --label "follow-up"
```

### 12. Complete and Display PR Link

```bash
echo "âœ… Implementation complete!"
echo ""
echo "ğŸ“Œ Created PR:"
gh pr view --web
echo ""
echo "ğŸ“ Created Follow-up Issues:"
gh issue list --author @me --limit 3
```

## Prerequisites

- GitHub authentication completed (`gh auth status`)
- Working from project root directory
- Development environment properly set up

## Error Handling

- **Local test failures**:
  - Review error details carefully
  - Run tests individually by service/module if needed
  - **Abort PR creation until tests pass**
- **Type errors**: Check detailed errors with type checker
- **CI failures**: Review GitHub Actions logs for error details

## Success Criteria

- [ ] **Required: All local tests pass**
- [ ] Lint and type checks pass
- [ ] CI/CD pipeline succeeds
- [ ] Issue requirements are met
- [ ] PR is ready for review
- [ ] Unresolved issues reviewed and follow-up issues created if needed
- [ ] PR link confirmed and displayed

## Implementation Details

### Issue Analysis Logic

AI automatically extracts and analyzes the following elements:

1. **Requirement Extraction**
   - Identify functional and non-functional requirements
   - Classify Must-have vs Nice-to-have features
   - Recognize explicit and implicit constraints
2. **Technical Analysis**
   - Identify required technology stack
   - Identify affected files and modules
   - Analyze dependencies
3. **Risk Assessment**
   - Potential breaking changes
   - Performance impact
   - Security considerations

### Validation Flow

1. **Fetch Issue** â†’ Analyze content
2. **Summarize Understanding** â†’ Display to user for confirmation
3. **User Response**:
   - `Yes` â†’ Create TodoWrite plan
   - `No` / corrections â†’ Revise understanding and reconfirm
   - `--skip-validation` â†’ Skip directly to TodoWrite
4. **Begin Implementation**

## Notes

- For complex issues, consider creating a spike or PoC first
- For breaking changes, consult with your team beforehand
- Include migration files for database schema changes
- Mandatory local test validation prevents CI failures

### Workflow Benefits

1. **Completeness**: Problems discovered during implementation are properly recorded
2. **Transparency**: All technical decisions and deferred work are documented
3. **Continuous Improvement**: Follow-up issues enable incremental quality improvements
4. **Traceability**: Clear relationships between related issues
5. **CI Failure Prevention**: Mandatory local testing significantly reduces post-PR CI failures

````

## ä»–ã«ã‚‚

- [[Claude Code] PR titleã¨descriptionã‚’æœ€æ–°ã«æ›´æ–°ã™ã‚‹ slash command](https://qiita.com/nakamasato/items/7e1c29869486fb1129e0)
- [[Claude Code] PR reviewã‚³ãƒ¡ãƒ³ãƒˆã‚’Resolveã™ã‚‹Custom Slash Command](https://qiita.com/nakamasato/items/fed6ea808f05300f081b)

